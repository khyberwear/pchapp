import{a as o}from"./index.daetGfa_.js";const c=(t={})=>{let a=o(t);return a.setKey=function(e,s){let i=a.value;typeof s>"u"&&e in a.value?(a.value={...a.value},delete a.value[e],a.notify(i,e)):a.value[e]!==s&&(a.value={...a.value,[e]:s},a.notify(i,e))},a},n=c({});if(typeof localStorage<"u"){const t=localStorage.getItem("cart");t&&n.set(JSON.parse(t))}n.subscribe(t=>{typeof localStorage<"u"&&localStorage.setItem("cart",JSON.stringify(t))});function f(t){const e=n.get()[t.id];e?n.setKey(t.id,{...e,quantity:e.quantity+1}):n.setKey(t.id,{...t,quantity:1})}function r(t){const a=n.get(),{[t]:e,...s}=a;n.set(s)}function l(){n.set({})}function y(t){const e=n.get()[t];e&&n.setKey(t,{...e,quantity:e.quantity+1})}function d(t){const e=n.get()[t];e&&(e.quantity>1?n.setKey(t,{...e,quantity:e.quantity-1}):r(t))}export{n as $,f as a,l as c,d,y as i,r};
