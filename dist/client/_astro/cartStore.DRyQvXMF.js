import{a as r}from"./index.daetGfa_.js";const i=(e={})=>{let t=r(e);return t.setKey=function(a,n){let s=t.value;typeof n>"u"&&a in t.value?(t.value={...t.value},delete t.value[a],t.notify(s,a)):t.value[a]!==n&&(t.value={...t.value,[a]:n},t.notify(s,a))},t},o=i({});if(typeof localStorage<"u"){const e=localStorage.getItem("cart");e&&o.set(JSON.parse(e))}o.subscribe(e=>{typeof localStorage<"u"&&localStorage.setItem("cart",JSON.stringify(e))});function l(e){const a=o.get()[e.id];a?o.setKey(e.id,{...a,quantity:a.quantity+1}):o.setKey(e.id,{...e,quantity:1})}function f(e){const t=o.get(),{[e]:a,...n}=t;o.set(n)}function u(){o.set({})}export{o as $,l as a,u as c,f as r};
